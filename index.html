<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini Test IA</title>
</head>
<body>
<h2>Test IA Open Source</h2>
<input id="input" placeholder="Pose ta question" style="width:300px;">
<button id="send">Envoyer</button>
<p id="response"></p>

<script>
const input = document.getElementById("input");
const btn = document.getElementById("send");
const resp = document.getElementById("response");

btn.onclick = async () => {
  const msg = input.value.trim();
  if (!msg) return;
  resp.textContent = "Chargement...";
  try {
    const r = await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: msg })
    });
    const data = await r.json();
    resp.textContent = data.text;
  } catch (e) {
    resp.textContent = "Erreur de connexion";
  }
};
</script>
</body>
</html>

</script>

</body>
</html>
